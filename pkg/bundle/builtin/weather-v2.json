{
  "name": "weather-v2",
  "description": "Claude builds in weather_v2/, two rounds of Gemini+Codex review, Claude grades",
  "inputs": [],
  "steps": [
    {
      "name": "build",
      "tool": "claude",
      "task": "Create a directory called weather_v2 and write a simple Python script inside it (weather_v2/weather_check.py) that checks the weather for a given city using the OpenWeatherMap API. Include error handling and a main function. Make sure to create the directory first."
    },
    {
      "name": "gemini-review-1",
      "tool": "gemini",
      "task": "Review this code for bugs, security issues, and improvements. Be specific and thorough.\n\n${steps.build.stdout}"
    },
    {
      "name": "codex-review-1",
      "tool": "codex",
      "task": "Review this code for bugs, security issues, and improvements. Be specific and thorough.\n\n${steps.build.stdout}"
    },
    {
      "name": "gemini-review-2",
      "tool": "gemini",
      "task": "Based on the previous reviews, improve the code. Apply the fixes and write the improved version. Show the complete updated code.\n\nOriginal Code:\n${steps.build.stdout}\n\nGemini Review:\n${steps.gemini-review-1.stdout}\n\nCodex Review:\n${steps.codex-review-1.stdout}"
    },
    {
      "name": "codex-review-2",
      "tool": "codex",
      "task": "Based on the previous reviews and Gemini's improvements, further improve the code. Apply any remaining fixes and write the final improved version. Show the complete updated code.\n\nOriginal Code:\n${steps.build.stdout}\n\nGemini Review:\n${steps.gemini-review-1.stdout}\n\nCodex Review:\n${steps.codex-review-1.stdout}\n\nGemini Improvements:\n${steps.gemini-review-2.stdout}"
    },
    {
      "name": "grade",
      "tool": "claude",
      "task": "Grade the final implementation 0-100 based on the entire review and improvement process.\n\nOriginal Code:\n${steps.build.stdout}\n\nGemini Review:\n${steps.gemini-review-1.stdout}\n\nCodex Review:\n${steps.codex-review-1.stdout}\n\nGemini Improvements:\n${steps.gemini-review-2.stdout}\n\nCodex Final Improvements:\n${steps.codex-review-2.stdout}\n\nProvide a final score and summary comparing the original to the final version."
    }
  ]
}
